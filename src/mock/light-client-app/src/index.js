const dtm1 = [
  {
    "x": 34.532684,
    "y": 31.597696000000003,
    "z": 15.079473783525158
  },
  {
    "x": 34.53277587890625,
    "y": 31.597527761081462,
    "z": 15.229805260019496
  },
  {
    "x": 34.53283289858514,
    "y": 31.597423352686707,
    "z": 15.519026558201984
  },
  {
    "x": 34.532864038263035,
    "y": 31.597366333007812,
    "z": 15.382329495035197
  },
  {
    "x": 34.53307543574417,
    "y": 31.596979244337923,
    "z": 15.945696829811409
  },
  {
    "x": 34.533239030201784,
    "y": 31.5966796875,
    "z": 13.842949308085547
  },
  {
    "x": 34.533317972903205,
    "y": 31.596535135989143,
    "z": 12.474452259487355
  },
  {
    "x": 34.53346252441406,
    "y": 31.596270448577705,
    "z": 12.988833037211304
  },
  {
    "x": 34.53356051006224,
    "y": 31.59609102764036,
    "z": 13.046810225509734
  },
  {
    "x": 34.53361402214053,
    "y": 31.595993041992188,
    "z": 12.986675087150017
  },
  {
    "x": 34.533726,
    "y": 31.595788,
    "z": 13.759837210243294
  },
  {
    "x": 34.534149169921875,
    "y": 31.595972371955494,
    "z": 13.08298081441529
  },
  {
    "x": 34.53416356718096,
    "y": 31.5959786447331,
    "z": 13.067406551923687
  },
  {
    "x": 34.5341966117239,
    "y": 31.595993041992188,
    "z": 13.143243738781578
  },
  {
    "x": 34.53464183499544,
    "y": 31.596187022426435,
    "z": 14.559288577163034
  },
  {
    "x": 34.535329334026116,
    "y": 31.59648656058862,
    "z": 15.054460462558872
  },
  {
    "x": 34.5355224609375,
    "y": 31.596570704532862,
    "z": 15.000940341997003
  },
  {
    "x": 34.5355983706244,
    "y": 31.5966037778131,
    "z": 14.981625507143812
  },
  {
    "x": 34.5357725982947,
    "y": 31.5966796875,
    "z": 15.061970783071441
  },
  {
    "x": 34.536895751953125,
    "y": 31.597169037110223,
    "z": 15.296445275265674
  },
  {
    "x": 34.53751144188232,
    "y": 31.597437288586427,
    "z": 15.458950529262216
  },
  {
    "x": 34.53826904296875,
    "y": 31.59776736968759,
    "z": 15.563716219768773
  },
  {
    "x": 34.53942451314025,
    "y": 31.598270799359753,
    "z": 17.44630769528821
  },
  {
    "x": 34.539642333984375,
    "y": 31.598365702264957,
    "z": 17.493583586703437
  },
  {
    "x": 34.540196506562054,
    "y": 31.598607151093304,
    "z": 18.16536080860419
  },
  {
    "x": 34.540607,
    "y": 31.598786,
    "z": 18.564744391934315
  },
  {
    "x": 34.541015625,
    "y": 31.59841719787624,
    "z": 18.984932447395366
  },
  {
    "x": 34.541207063054685,
    "y": 31.59824441657031,
    "z": 19.266373290557144
  },
  {
    "x": 34.541419172394775,
    "y": 31.598052978515625,
    "z": 19
  },
  {
    "x": 34.541928881247166,
    "y": 31.59759294374717,
    "z": 19
  },
  {
    "x": 34.54265069943965,
    "y": 31.596941470924026,
    "z": 20
  },
  {
    "x": 34.542926,
    "y": 31.596693,
    "z": 20.282394305643866
  },
  {
    "x": 34.542926,
    "y": 31.596693,
    "z": 20.282394305643866
  },
  {
    "x": 34.542908232682926,
    "y": 31.5966796875,
    "z": 20.27999246626975
  },
  {
    "x": 34.542611356293094,
    "y": 31.59645724722253,
    "z": 20.64790426774684
  },
  {
    "x": 34.542388916015625,
    "y": 31.59629057961697,
    "z": 20.09332428317934
  },
  {
    "x": 34.541826290639364,
    "y": 31.595869021860636,
    "z": 20.059490390103843
  },
  {
    "x": 34.541075391600614,
    "y": 31.595306396484375,
    "z": 19.61620344657145
  },
  {
    "x": 34.541015625,
    "y": 31.595261615222952,
    "z": 19.564718128920386
  },
  {
    "x": 34.54083702218477,
    "y": 31.595127793669143,
    "z": 19.362896321211025
  },
  {
    "x": 34.5402561593319,
    "y": 31.594692571136843,
    "z": 18.62167386159207
  },
  {
    "x": 34.54019,
    "y": 31.594643,
    "z": 18.508612327441163
  },
  {
    "x": 34.539642333984375,
    "y": 31.594721324644542,
    "z": 17.61665082561631
  },
  {
    "x": 34.53952380949568,
    "y": 31.59473827546526,
    "z": 17.60408543613338
  },
  {
    "x": 34.53913046698097,
    "y": 31.59479452948097,
    "z": 16.813296814567465
  },
  {
    "x": 34.53895568847656,
    "y": 31.594819525489196,
    "z": 16.19698099903186
  },
  {
    "x": 34.538722575186114,
    "y": 31.59485286426701,
    "z": 16
  },
  {
    "x": 34.53852973531939,
    "y": 31.59488044332721,
    "z": 16
  },
  {
    "x": 34.53826904296875,
    "y": 31.59491772633385,
    "z": 15.767037899416186
  },
  {
    "x": 34.53792900365782,
    "y": 31.594966357173444,
    "z": 15.346830314987745
  },
  {
    "x": 34.537120106566995,
    "y": 31.595082041870505,
    "z": 15.074576720065338
  },
  {
    "x": 34.536895751953125,
    "y": 31.59511412802316,
    "z": 15
  },
  {
    "x": 34.53672754033467,
    "y": 31.595138184865917,
    "z": 14.631980079580055
  },
  {
    "x": 34.53631887225744,
    "y": 31.59519663067225,
    "z": 14.11587975122087
  },
  {
    "x": 34.53620910644531,
    "y": 31.595212328867813,
    "z": 14.087884014266617
  },
  {
    "x": 34.53612680867309,
    "y": 31.595224098712155,
    "z": 14.934663191660851
  },
  {
    "x": 34.535865783691406,
    "y": 31.595261429290144,
    "z": 15.34336804183449
  },
  {
    "x": 34.53582644284231,
    "y": 31.595267055635276,
    "z": 14.888333189896038
  },
  {
    "x": 34.53555136152907,
    "y": 31.595306396484375,
    "z": 14.082805814417913
  },
  {
    "x": 34.53552607701152,
    "y": 31.595310012558393,
    "z": 14.01050314814718
  },
  {
    "x": 34.5355224609375,
    "y": 31.59531052971247,
    "z": 14.003637522011903
  },
  {
    "x": 34.535517637947876,
    "y": 31.595311219474,
    "z": 14
  },
  {
    "x": 34.535179138183594,
    "y": 31.595359630134794,
    "z": 13.161440234359292
  },
  {
    "x": 34.53492534534994,
    "y": 31.595395926404628,
    "z": 14
  },
  {
    "x": 34.53483581542969,
    "y": 31.595408730557125,
    "z": 14.149034795370142
  },
  {
    "x": 34.53471640363832,
    "y": 31.595425808275742,
    "z": 14.168074418247368
  },
  {
    "x": 34.53432461368837,
    "y": 31.59548184025087,
    "z": 15.02024662210536
  },
  {
    "x": 34.534149169921875,
    "y": 31.59550693140178,
    "z": 14.82913018152286
  },
  {
    "x": 34.53391516932876,
    "y": 31.595540397077492,
    "z": 14.695377145809033
  },
  {
    "x": 34.533869,
    "y": 31.595547000000003,
    "z": 14.579246142886404
  },
  {
    "x": 34.533820362872,
    "y": 31.595635203534254,
    "z": 14.33637722289897
  },
  {
    "x": 34.533623043852614,
    "y": 31.595993041992188,
    "z": 12.986991348279
  },
  {
    "x": 34.53356599060286,
    "y": 31.596096508180985,
    "z": 13.050470754710668
  },
  {
    "x": 34.53346252441406,
    "y": 31.59628414433265,
    "z": 12.989201776391235
  },
  {
    "x": 34.533321936935565,
    "y": 31.596539100021502,
    "z": 12.48886026183648
  },
  {
    "x": 34.53324441429154,
    "y": 31.5966796875,
    "z": 13.822638644590628
  },
  {
    "x": 34.53307788326827,
    "y": 31.59698169186202,
    "z": 15.948602085104389
  },
  {
    "x": 34.532865784730454,
    "y": 31.597366333007812,
    "z": 15.385314312166113
  },
  {
    "x": 34.53283382960098,
    "y": 31.59742428370254,
    "z": 15.523718673687886
  },
  {
    "x": 34.53277587890625,
    "y": 31.597529377409685,
    "z": 15.229786690204111
  },
  {
    "x": 34.532684,
    "y": 31.597696000000003,
    "z": 15.079473783525158
  }
]

const dtm2 = [
  {
    "x": 34.533577,
    "y": 31.595345,
    "z": 14.2063880401071
  },
  {
    "x": 34.533869,
    "y": 31.595547000000003,
    "z": 14.579246142886404
  },
  {
    "x": 34.53389655910936,
    "y": 31.595559007296888,
    "z": 14.624906551753378
  },
  {
    "x": 34.534149169921875,
    "y": 31.595669067929922,
    "z": 14.220857881786358
  },
  {
    "x": 34.534374826923845,
    "y": 31.595767384990218,
    "z": 13.976752989208347
  },
  {
    "x": 34.53479185398492,
    "y": 31.59594908054742,
    "z": 14.9338295996785
  },
  {
    "x": 34.53483581542969,
    "y": 31.595968234218603,
    "z": 14.963871061118262
  },
  {
    "x": 34.534853094738324,
    "y": 31.595975762683548,
    "z": 14.94967036573635
  },
  {
    "x": 34.53489275415218,
    "y": 31.595993041992188,
    "z": 14.967186925960215
  },
  {
    "x": 34.5355224609375,
    "y": 31.596267400507283,
    "z": 14.79268000287974
  },
  {
    "x": 34.53580963036729,
    "y": 31.59639251807021,
    "z": 14.719611197859455
  },
  {
    "x": 34.53646874072298,
    "y": 31.5966796875,
    "z": 15.023560641158602
  },
  {
    "x": 34.536895751953125,
    "y": 31.596865733084645,
    "z": 15.112705381593075
  },
  {
    "x": 34.53772270162521,
    "y": 31.597226028843536,
    "z": 15.330970550685148
  },
  {
    "x": 34.53826904296875,
    "y": 31.597464065662013,
    "z": 15.40652195779548
  },
  {
    "x": 34.53963577288314,
    "y": 31.598059539616862,
    "z": 17.633315993359673
  },
  {
    "x": 34.539642333984375,
    "y": 31.598062398239374,
    "z": 17.634740016441242
  },
  {
    "x": 34.53965902652085,
    "y": 31.598069671052098,
    "z": 17.65497498697316
  },
  {
    "x": 34.54075,
    "y": 31.598545,
    "z": 18.716421668326014
  },
  {
    "x": 34.541015625,
    "y": 31.598310088945368,
    "z": 18.989363484360723
  },
  {
    "x": 34.541152068633316,
    "y": 31.59818942214894,
    "z": 19.189852219515814
  },
  {
    "x": 34.541306351879605,
    "y": 31.598052978515625,
    "z": 19
  },
  {
    "x": 34.54188084815408,
    "y": 31.59754491065408,
    "z": 19
  },
  {
    "x": 34.54260962767484,
    "y": 31.59690039915922,
    "z": 20
  },
  {
    "x": 34.54285919674928,
    "y": 31.5966796875,
    "z": 20.253554470222454
  },
  {
    "x": 34.54333840719561,
    "y": 31.596255887664363,
    "z": 21.51783589896101
  },
  {
    "x": 34.54376220703125,
    "y": 31.595881091367538,
    "z": 21.985709468789135
  },
  {
    "x": 34.54406718671638,
    "y": 31.595611376169504,
    "z": 22.046015617485242
  },
  {
    "x": 34.54441204161896,
    "y": 31.595306396484375,
    "z": 23.04009365004363
  },
  {
    "x": 34.544795966237146,
    "y": 31.594966864674646,
    "z": 22.614841529209624
  },
  {
    "x": 34.545135498046875,
    "y": 31.59466659257862,
    "z": 20.21984187648633
  },
  {
    "x": 34.5451884640538,
    "y": 31.594619750976562,
    "z": 20.036287181003225
  },
  {
    "x": 34.54552474575791,
    "y": 31.594322353179784,
    "z": 20.696622496505345
  },
  {
    "x": 34.54596488648864,
    "y": 31.59393310546875,
    "z": 20.583584798101946
  },
  {
    "x": 34.54625352527868,
    "y": 31.59367784168493,
    "z": 20.938582871556793
  },
  {
    "x": 34.546259,
    "y": 31.593673,
    "z": 20.922290494310847
  },
  {
    "x": 34.546259,
    "y": 31.593673,
    "z": 20.922290494310847
  },
  {
    "x": 34.5462497463771,
    "y": 31.59367406278335,
    "z": 20.947880879882334
  },
  {
    "x": 34.5452835755111,
    "y": 31.593785028004525,
    "z": 21.215653437679414
  },
  {
    "x": 34.545135498046875,
    "y": 31.593802034777493,
    "z": 21.056348382426922
  },
  {
    "x": 34.545017930095355,
    "y": 31.59381553751723,
    "z": 20.725003336149648
  },
  {
    "x": 34.54444885253906,
    "y": 31.59388089636743,
    "z": 19.175435700749798
  },
  {
    "x": 34.54399426945345,
    "y": 31.59393310546875,
    "z": 20.37728434088663
  },
  {
    "x": 34.54378611381361,
    "y": 31.593957012251106,
    "z": 21.0348167753017
  },
  {
    "x": 34.54376220703125,
    "y": 31.593959757957364,
    "z": 21.036522682512206
  },
  {
    "x": 34.54373209631091,
    "y": 31.59396321618909,
    "z": 21
  },
  {
    "x": 34.542554297531865,
    "y": 31.594098486984986,
    "z": 20.986140169646195
  },
  {
    "x": 34.542388916015625,
    "y": 31.594117481137236,
    "z": 20.894156734036937
  },
  {
    "x": 34.54132248125011,
    "y": 31.594239961718866,
    "z": 19.2970428167603
  },
  {
    "x": 34.541015625,
    "y": 31.594275204317103,
    "z": 19.145418143101395
  },
  {
    "x": 34.54062913791053,
    "y": 31.594319592558225,
    "z": 18.85064957929882
  },
  {
    "x": 34.54032897949219,
    "y": 31.594354065907037,
    "z": 18.069104811539965
  },
  {
    "x": 34.540138,
    "y": 31.594376,
    "z": 17.841862165944676
  },
  {
    "x": 34.54009183134218,
    "y": 31.594382602826556,
    "z": 17.79018440905385
  },
  {
    "x": 34.539642333984375,
    "y": 31.594446887846566,
    "z": 17.202821633392567
  },
  {
    "x": 34.53904281055625,
    "y": 31.594532628896875,
    "z": 16
  },
  {
    "x": 34.538289636357455,
    "y": 31.594640344365267,
    "z": 16
  },
  {
    "x": 34.53826904296875,
    "y": 31.594643289535874,
    "z": 15.981597162021856
  },
  {
    "x": 34.53768890469588,
    "y": 31.594726258211505,
    "z": 15.264684456809276
  },
  {
    "x": 34.537440341937135,
    "y": 31.59476180650037,
    "z": 15.181024736183355
  },
  {
    "x": 34.536895751953125,
    "y": 31.594839691225182,
    "z": 15
  },
  {
    "x": 34.53663910762757,
    "y": 31.594876395302116,
    "z": 14.438503563941147
  },
  {
    "x": 34.53648744137273,
    "y": 31.594898085903978,
    "z": 14.233108648509365
  },
  {
    "x": 34.53620910644531,
    "y": 31.594937892069836,
    "z": 14.1783070296726
  },
  {
    "x": 34.53618707554194,
    "y": 31.5949410428271,
    "z": 14.36395253416081
  },
  {
    "x": 34.53603302981163,
    "y": 31.59496307373047,
    "z": 16.000237141156116
  },
  {
    "x": 34.53588670971116,
    "y": 31.59498399975022,
    "z": 17.505755589240195
  },
  {
    "x": 34.535865783691406,
    "y": 31.594986992492164,
    "z": 17.538520904308214
  },
  {
    "x": 34.535837873318016,
    "y": 31.594990984103863,
    "z": 17.21569633606943
  },
  {
    "x": 34.53558634388037,
    "y": 31.595026956673333,
    "z": 16.066017031489466
  },
  {
    "x": 34.5355224609375,
    "y": 31.59503609291449,
    "z": 16.325854097421583
  },
  {
    "x": 34.535437256163235,
    "y": 31.595048278504734,
    "z": 15.399471261550957
  },
  {
    "x": 34.53528597804958,
    "y": 31.595069913596454,
    "z": 13.831038081256377
  },
  {
    "x": 34.535179138183594,
    "y": 31.59508519333682,
    "z": 13.547782039279399
  },
  {
    "x": 34.53503663900845,
    "y": 31.59510557290561,
    "z": 13.909932856296738
  },
  {
    "x": 34.53483581542969,
    "y": 31.595134293759145,
    "z": 14.299018923823096
  },
  {
    "x": 34.534685246388,
    "y": 31.595155827442692,
    "z": 14.397575045084977
  },
  {
    "x": 34.5342354046989,
    "y": 31.595220161707356,
    "z": 15.411933694874255
  },
  {
    "x": 34.534149169921875,
    "y": 31.5952324946038,
    "z": 15.411249846434123
  },
  {
    "x": 34.53408451472643,
    "y": 31.595241741288927,
    "z": 15.432546490552129
  },
  {
    "x": 34.533817,
    "y": 31.59528,
    "z": 14.816415861344748
  },
  {
    "x": 34.53371953605769,
    "y": 31.595306396484375,
    "z": 14.59194029359069
  },
  {
    "x": 34.533577,
    "y": 31.595345,
    "z": 14.2063880401071
  }
]











let prevLinePos = null;


const dtms = {
  138.149943: dtm1.slice(0,32),
  138.14966900000002: dtm1.slice(32),

  138.152007: dtm2.slice(0, 33),
  138.151343: dtm2.slice(33),
}

function getLinePoints(linePos) {  

  return new Promise((resolve, reject) => {
    
    setTimeout(() => {      
      const key = linePos.coordinates.reduce((back,curr) => back +  curr.longitude ,0);
      resolve(dtms[key])
    }, 100);
  })
}


const clientFacade = {
  createCommand: (sname, params) => {
    return {
      isAvailable: () => true,
    }
  }
}

const Globals = {
  get: () => {
    return {
      clientFacade
    }    
  },
  g: {
    map: {
      getHeightsAlongLine: (linePos) => {
        return getLinePoints(linePos);
      }
    }
  }
};

function SubscriptionsHOC(Component) {
  return Component;
}

export {
  Globals, SubscriptionsHOC
}